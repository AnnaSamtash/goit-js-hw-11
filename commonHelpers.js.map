{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { inputSearch, listOfPhotos } from '../main';\n\nexport function fetchPhotoFromPixabay() {\n    const loudAnimation = `<div class=\"loader\"></div>`;\n    listOfPhotos.insertAdjacentHTML(\"afterend\", loudAnimation);\n    const inputValueForForm = inputSearch.value.trim().split(',').join('+');\n    const searchParams = new URLSearchParams({\n        key: \"42633759-4a44573e34755b4488adb4c1b\",\n        q: [inputValueForForm],\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }\n        );\n}","import iziToast from \"izitoast\"\nimport { listOfPhotos, lightbox } from '../main';\n\nexport function renderPhotos(arr) { \n    if (arr.length == 0) {\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            theme: 'dark',\n            progressBarColor: '#FFFFFF',\n            color: '#EF4040',\n            position: 'topRight',\n        });\n    } else {\n        const markup = arr.map((photo) => {\n            return `<li class=\"photos-list-item\">\n            <a class=\"photos-list-link\" href=\"${photo.largeImageURL}\">\n            <img class=\"photo\" src=\"${photo.webformatURL}\" alt=\"${photo.tags}\"/>\n            </a>\n            <ul class=\"photo-information-container\">\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${photo.likes}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${photo.views}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${photo.comments}</p></li>\n            <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${photo.downloads}</p></li>\n            </ul>\n            </li>`;\n        })\n            .join(\"\");\n        listOfPhotos.insertAdjacentHTML(\"beforeend\", markup);\n        \n        lightbox.refresh();\n    }\n}\n","import { fetchPhotoFromPixabay } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-functions';\nimport SimpleLightbox from \"simplelightbox\";\nimport iziToast from \"izitoast\";\n\n\nconst form = document.querySelector('.search-form');\nexport const inputSearch = form.elements.search;\nexport const listOfPhotos = document.querySelector('.gallery');\nexport const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250\n});\n\nform.addEventListener('submit', sendForm);\n\nfunction sendForm(evt) {\n    evt.preventDefault();\n    listOfPhotos.innerHTML = \"\";\n    const input = evt.target.elements.search.value.trim();\n    if (input !== '') {\n        fetchPhotoFromPixabay()\n            .then((photos) => renderPhotos(photos.hits))\n            .catch((error) => {\n                console.log(error);\n                iziToast.error({\n                    message: 'Sorry, an error occurred while loading. Please try again!',\n                    theme: 'dark',\n                    progressBarColor: '#FFFFFF',\n                    color: '#EF4040',\n                    position: 'topRight',\n                });\n            });\n        form.reset();\n    } else {\n        iziToast.show({\n            message: 'Please complete the field!',\n            theme: 'dark',\n            progressBarColor: '#FFFFFF',\n            color: '#EF4040',\n            position: 'topRight',\n        });\n    }\n}\n\n\n\n\n\n\n"],"names":["fetchPhotoFromPixabay","loudAnimation","listOfPhotos","inputValueForForm","inputSearch","searchParams","response","renderPhotos","arr","iziToast","markup","photo","lightbox","form","SimpleLightbox","sendForm","evt","photos","error"],"mappings":"6vBAEO,SAASA,GAAwB,CACpC,MAAMC,EAAgB,6BACtBC,EAAa,mBAAmB,WAAYD,CAAa,EACzD,MAAME,EAAoBC,EAAY,MAAM,KAAI,EAAG,MAAM,GAAG,EAAE,KAAK,GAAG,EAChEC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,CAACF,CAAiB,EACrB,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BE,CAAY,EAAE,EAClD,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACnB,CACT,CACA,CCnBO,SAASC,EAAaC,EAAK,CAC9B,GAAIA,EAAI,QAAU,EACdC,EAAS,MAAM,CACX,QAAS,2EACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UACtB,CAAS,MACE,CACH,MAAMC,EAASF,EAAI,IAAKG,GACb;AAAA,gDAC6BA,EAAM,aAAa;AAAA,sCAC7BA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,oGAGwBA,EAAM,KAAK;AAAA,oGACXA,EAAM,KAAK;AAAA,uGACRA,EAAM,QAAQ;AAAA,wGACbA,EAAM,SAAS;AAAA;AAAA,kBAG9G,EACI,KAAK,EAAE,EACZT,EAAa,mBAAmB,YAAaQ,CAAM,EAEnDE,EAAS,QAAO,CACnB,CACL,CCzBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EACrCT,EAAcS,EAAK,SAAS,OAC5BX,EAAe,SAAS,cAAc,UAAU,EAChDU,EAAW,IAAIE,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAClB,CAAC,EAEDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAK,CACnBA,EAAI,eAAc,EAClBd,EAAa,UAAY,GACXc,EAAI,OAAO,SAAS,OAAO,MAAM,SACjC,IACVhB,EAAuB,EAClB,KAAMiB,GAAWV,EAAaU,EAAO,IAAI,CAAC,EAC1C,MAAOC,GAAU,CACd,QAAQ,IAAIA,CAAK,EACjBT,EAAS,MAAM,CACX,QAAS,4DACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAC9B,CAAiB,CACjB,CAAa,EACLI,EAAK,MAAK,GAEVJ,EAAS,KAAK,CACV,QAAS,6BACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UACtB,CAAS,CAET"}